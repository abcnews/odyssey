@import '../../constants';

.Caption {
  * > & {
    font-size: 0.8125rem !important;
    line-height: 1.555555556;
  }

  @media #{$mq-lt-lg} {
    padding-left: $layout-fluid-padding;
    padding-right: $layout-fluid-padding;
  }

  .u-full & {
    @media #{$mq-gt-md} {
      padding-left: $layout-fixed-padding;
      padding-right: $layout-fixed-padding;
    }
  }

  .u-richtext-invert & {
    padding-left: $layout-fluid-padding;
    padding-right: $layout-fluid-padding;
    background-color: $color-black-transparent-60;
    color: $color-white;

    @media #{$mq-gt-md} {
      padding-left: $layout-fluid-padding;
      padding-right: $layout-fluid-padding;
    }
  }

  .u-richtext .u-pull-left &,
  .u-richtext .u-pull-right & {
    @media #{$mq-gt-sm} {
      padding-left: 0;
      padding-right: 0;
    }
  }

  a,
  a:visited {
    color: currentColor;
  }
}

.Caption-attribution {
  display: none;
  white-space: nowrap;
  font-size: 0.6875rem;
  color: $color-grey-500;

  .has-caption-attributions & {
    display: inline;
  }

  .u-richtext-invert & {
    color: $color-grey-100;
  }

  .has-long-attribution & {
    white-space: normal;
  }
}

@layer odyssey.legacy {
  .Caption {
    font-family: var(--od-font-stack-sans);

    margin: 0;

    padding-top: $unit * 0.4375;
    padding-bottom: $unit * 0.375;

    :first-child {
      margin-right: $unit * 0.25;
    }
  }
}

@layer odyssey.future {
  .is-future {
    .Caption {
      margin: $unit * 0.5;
      padding: $unit * 0.75 $unit;
      border-radius: $radius;
      background-color: var(--od-colour-surface-utility);

      @media #{$mq-lt-lg} {
        margin-left: $layout-fluid-padding;
        margin-right: $layout-fluid-padding;
      }
    }
  }

  .is-dark-mode {
    .is-future {
      .Caption {
        background-color: $color-darkBg;
        background-color: var(--bg, #{$color-darkBg});
      }
    }
  }
}
