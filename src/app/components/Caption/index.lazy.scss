@import '../../constants';

.Caption {
  * > & {
    font-size: 0.8125rem !important;
    line-height: 1.555555556;
  }

  @media #{$mq-lt-lg} {
    padding-left: $layout-fluid-padding;
    padding-right: $layout-fluid-padding;
  }

  .u-full & {
    @media #{$mq-gt-md} {
      padding-left: $layout-fixed-padding;
      padding-right: $layout-fixed-padding;
    }
  }

  .u-richtext-invert & {
    padding-left: $layout-fluid-padding;
    padding-right: $layout-fluid-padding;
    :where(.is-legacy) & {
      background-color: $color-black-transparent-60;
      color: $color-white;
    }

    @media #{$mq-gt-md} {
      padding-left: $layout-fluid-padding;
      padding-right: $layout-fluid-padding;
    }
  }

  .u-richtext .u-pull-left &,
  .u-richtext .u-pull-right & {
    @media #{$mq-gt-sm} {
      padding-left: 0;
      padding-right: 0;
    }
  }

  a,
  a:visited {
    color: currentColor;
  }
}

.Caption-attribution {
  display: none;
  white-space: nowrap;
  font-size: 0.6875rem;
  color: $color-grey-500;

  .has-caption-attributions & {
    display: inline;
  }

  .u-richtext-invert & {
    color: $color-grey-100;
  }

  .has-long-attribution & {
    white-space: normal;
  }
}

:where(.is-legacy) {
  .Caption {
    font-family: var(--od-font-stack-sans);

    margin: 0;

    padding-top: $unit * 0.4375;
    padding-bottom: $unit * 0.375;

    :first-child {
      margin-right: $unit * 0.25;
    }
  }
}

:where(.is-future) {
  .Caption {
    margin: $unit * 0.5;
    padding: $unit * 0.75 $unit;
    border-radius: $radius;
    background-color: var(--od-colour-surface-utility);
    @media #{$mq-md} {
      margin-left: auto;
      margin-right: auto;
      width: calc(cells(10) - $layout-fluid-padding * 2);
    }

    @media #{$mq-gt-md} {
      margin-left: 0;
      margin-right: 0;
      width: 100%;
    }
  }
}
